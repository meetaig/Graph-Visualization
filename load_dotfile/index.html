<!--
  This is an example html file with some options added. The minimum html file for
  the graph visualization is:
  <!DOCTYPE html>
  <html>
    <head>
      <title>Graph Visualization</title>
      <script type="text/javascript" src="build/graph.min.js"></script>
    </head>
    <body onload="new Drawing.SimpleGraph({layout: '3d', showStats: true, showInfo: true})">
    </bod>
  </html>
-->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Graph Visualization</title>
    <script type="text/javascript" src="../build/graph.min.js"></script>
    <script type="text/javascript" src="graph_dotfile.js"></script>
    <script type="text/javascript">
    </script>
    <script type="text/javascript">
        var drawing;
        function createDrawing()
        {
            drawing = new Drawing.DotFileGraph({
                layout: '3d',
                selection: true,
                graphLayout:{attraction: 5, repulsion: 0.5},
                showStats: true,
                showInfo: true
            });
        }
        function registerLoadFile()
        {
            var element = document.getElementById("dotfile_id");
            //element.onclick = function(e)
            element.onchange = function(e)
            {
                drawing.onFileChanged();
            }
            console.log(document.getElementById("dotfile_id"));
        }

    </script>

    <style type="text/css">
      body {
        margin: 0;
        padding: 0;
        font: 11px courier;
        overflow: hidden;
      }
      #graph-info {
        position: absolute;
        top: 0px;
        left: 40%;
        margin: 10px;
        background-color: #ffffe0;
        color: #333;
        padding: 5px 10px;
      }
      #options {
        position: absolute;
        top: 0;
        right: 0;
        z-index: 10;
      }
    </style>
  </head>
  <body onload="createDrawing(); registerLoadFile();">
    <div id="options">
      <form>
        <p>
          <input type="checkbox" id="show_labels" onclick="drawing.show_labels = this.checked;" />
          <label for="show_labels">Show labels</label>
        </p>
        <p>
          <input type="button" value="Stop layout" onclick="drawing.stop_calculating();" />
        </p>
        <p>
            <input id='dotfile_id' type='file' name='filename'/>
        </p>
      </form>
    </div>

    <div style="position: absolute; bottom: 0;">
      Rotate: Left Mouse Button and Move<br />
      Zoom: Press Key S + Left Mouse Button and Move<br />
      Drag: Press Key D + Left Mouse Button and Move
    </div>
  </body>
</html>
